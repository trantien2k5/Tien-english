<div class="page-header">
    <h2 class="page-header__title">Bộ Từ Vựng 🗂️</h2>
    <p class="page-header__desc">Học theo chủ đề & Ngữ cảnh thực tế</p>
</div>

<div id="view-dashboard">
    <div class="vocab-stats-row fade-in">
        <div class="v-stat-card">
            <div class="v-icon bg-blue">📚</div>
            <div class="v-info">
                <span class="v-val" id="stat-topics">0</span>
                <span class="v-lbl">Chủ đề</span>
            </div>
        </div>
        <div class="v-stat-card">
            <div class="v-icon bg-purple">⚡</div>
            <div class="v-info">
                <span class="v-val" id="stat-words">0</span>
                <span class="v-lbl">Từ vựng</span>
            </div>
        </div>
        <div class="v-stat-card">
            <div class="v-icon bg-green">🔥</div>
            <div class="v-info">
                <span class="v-val" id="stat-mastered">0</span>
                <span class="v-lbl">Đã thuộc</span>
            </div>
        </div>
    </div>

    <div class="vocab-action-area fade-in">
        <button id="btn-create-topic" class="btn-create-glow">
            <span class="sparkle">✨</span> Tạo chủ đề mới (AI)
        </button>
    </div>

    <h3 class="section-title">Thư viện của bạn</h3>
    <div id="topic-grid" class="topic-grid fade-in">
        </div>
</div>

<div id="view-generator" class="card fade-in" style="display: none;">
    <h3 class="card-title">⚡ AI Topic Generator</h3>
    
    <label class="form-label">Tên chủ đề (VD: Coffee Shop, Job Interview)</label>
    <input type="text" id="gen-topic" class="form-input" placeholder="Nhập chủ đề...">
    
    <div style="display:flex; gap:10px">
        <div style="flex:1">
            <label class="form-label">Số lượng từ</label>
            <select id="gen-qty" class="form-input">
                <option value="5">5 từ (Nhanh)</option>
                <option value="10" selected>10 từ (Chuẩn)</option>
                <option value="20">20 từ (Chi tiết)</option>
            </select>
        </div>
        <div style="flex:1">
            <label class="form-label">Cấp độ</label>
            <select id="gen-level" class="form-input">
                <option value="A2">A2 - Sơ cấp</option>
                <option value="B1">B1 - Trung cấp</option>
                <option value="C1">C1 - Nâng cao</option>
            </select>
        </div>
    </div>

    <label class="form-label">Ngữ cảnh mong muốn (Optional)</label>
    <input type="text" id="gen-context" class="form-input" placeholder="VD: Để giao tiếp với đồng nghiệp...">

    <div class="btn-group">
        <button id="btn-back-dash" class="btn btn--outline">Hủy</button>
        <button id="btn-start-gen" class="btn btn--primary">🤖 Sinh từ vựng</button>
    </div>
    
    <div id="gen-loader" class="loader-box" style="display:none">
        <div class="loader"></div>
        <p>AI đang suy nghĩ và chọn từ hay nhất...</p>
    </div>
</div>

<div id="view-player" class="player-container fade-in" style="display: none;">
    <div class="player-top-bar">
        <button id="btn-exit-player" class="btn-icon-close">✕</button>
        <div class="progress-track">
            <div id="player-bar" class="progress-fill" style="width: 0%"></div>
        </div>
        <span id="player-progress" class="progress-text">0/0</span>
    </div>

    <div class="flashcard-scene">
        <div class="flashcard" id="active-card">
            <div class="card-face card-front">
                <div class="card-header-row">
                    <span id="fc-type" class="badge-pos">noun</span>
                    <button id="btn-speak-front" class="btn-audio-sm">🔊</button>
                </div>
                <div class="card-body-center">
                    <h2 id="fc-word">Word</h2>
                    <p id="fc-ipa">/ipa/</p>
                </div>
                <p class="tap-hint">👆 Chạm để xem nghĩa</p>
            </div>
            
            <div class="card-face card-back">
                <div class="card-header-row">
                    <span class="badge-meaning">Định nghĩa</span>
                    <button id="btn-speak-back" class="btn-audio-sm">🔊</button>
                </div>
                <h3 id="fc-meaning">Nghĩa tiếng Việt</h3>
                
                <div class="fc-context-box">
                    <p class="ctx-label">📌 Cách dùng (Collocation):</p>
                    <p id="fc-collocation" class="ctx-text">...</p>
                    <div class="divider"></div>
                    <p class="ctx-label">🗣️ Ví dụ:</p>
                    <p id="fc-en" class="ctx-example">...</p>
                    <p id="fc-vi" class="ctx-sub">...</p>
                </div>
            </div>
        </div>
    </div>

    <div class="srs-controls">
        <button id="btn-forget" class="btn-srs btn-forget">
            <span>😕</span> Quên
        </button>
        <button id="btn-auto-play" class="btn-srs btn-auto">
            ⏯️ Auto
        </button>
        <button id="btn-remember" class="btn-srs btn-remember">
            <span>😎</span> Đã nhớ
        </button>
    </div>
</div>